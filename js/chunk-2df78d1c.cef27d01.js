(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2df78d1c"],{"1da1":function(t,a,e){"use strict";e.d(a,"a",(function(){return r}));e("d3b7");function n(t,a,e,n,r,o,i){try{var c=t[o](i),s=c.value}catch(d){return void e(d)}c.done?a(s):Promise.resolve(s).then(n,r)}function r(t){return function(){var a=this,e=arguments;return new Promise((function(r,o){var i=t.apply(a,e);function c(t){n(i,r,o,c,s,"next",t)}function s(t){n(i,r,o,c,s,"throw",t)}c(void 0)}))}}},3619:function(t,a,e){},"4bd4":function(t,a,e){"use strict";var n=e("5530"),r=(e("caad"),e("2532"),e("07ac"),e("4de4"),e("159b"),e("7db0"),e("58df")),o=e("7e2b"),i=e("3206");a["a"]=Object(r["a"])(o["a"],Object(i["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var a=Object.values(t).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var a=this,e=function(t){return t.$watch("hasError",(function(e){a.$set(a.errorBag,t._uid,e)}),{immediate:!0})},n={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(r){r&&(a.errorBag.hasOwnProperty(t._uid)||(n.valid=e(t)))})):n.valid=e(t),n},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var a=this.inputs.find((function(a){return a._uid===t._uid}));if(a){var e=this.watchers.find((function(t){return t._uid===a._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==a._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(t){var a=this;return t("form",{staticClass:"v-form",attrs:Object(n["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return a.$emit("submit",t)}}},this.$slots.default)}})},"5afe":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-sheet",{staticClass:"overflow-y-auto overflow-x-hidden scrollbarNone",attrs:{tile:"","max-height":"800px","shrink-on-scroll":""}},[e("v-container",[e("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.isLoad,expression:"!isLoad"}],staticClass:"ma-auto",attrs:{dense:""}},[e("v-col",{staticClass:"my-16 text-center",attrs:{cols:"12"}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1),e("v-row",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],staticClass:"ma-auto",attrs:{dense:""}},[e("v-icon",{attrs:{large:""},on:{click:t.backHistory}},[t._v("mdi-chevron-left")]),e("v-col",{staticClass:"my-5",attrs:{cols:"12"}},[e("v-form",{ref:"form",staticClass:"px-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("客戶帳號")])]),e("v-text-field",{attrs:{rules:[t.rules.required],label:"請輸入客戶帳號",required:"",readonly:"",outlined:""},model:{value:t.addContractData.customerAccount,callback:function(a){t.$set(t.addContractData,"customerAccount",a)},expression:"addContractData.customerAccount"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("乙方公司名稱")])]),e("v-text-field",{attrs:{rules:[t.rules.required],label:"請輸入乙方公司名稱",required:"",outlined:""},model:{value:t.addContractData.companyName,callback:function(a){t.$set(t.addContractData,"companyName",a)},expression:"addContractData.companyName"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("統一編號")])]),e("v-text-field",{attrs:{rules:[t.rules.required],label:"請輸入統一編號(若無填身分證)",required:"",outlined:""},model:{value:t.addContractData.taxIDnumber,callback:function(a){t.$set(t.addContractData,"taxIDnumber",a)},expression:"addContractData.taxIDnumber"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("地址")])]),e("v-col",{staticClass:"d-flex pa-0",attrs:{cols:"12"}},[e("v-col",{staticClass:"py-0 px-2",attrs:{sm:"6"}},[e("v-select",{attrs:{items:t.cityItems,label:"請選擇","no-data-text":"請選擇縣市","single-line":"",required:"",solo:""},on:{change:function(a){return t.getAreaIngo(t.addContractData.city)}},model:{value:t.addContractData.city,callback:function(a){t.$set(t.addContractData,"city",a)},expression:"addContractData.city"}})],1),e("v-col",{staticClass:"py-0 px-2",attrs:{sm:"6"}},[e("v-select",{attrs:{items:t.areaItems,label:"請選擇","no-data-text":"請先選擇縣市","single-line":"",solo:""},model:{value:t.addContractData.area,callback:function(a){t.$set(t.addContractData,"area",a)},expression:"addContractData.area"}})],1)],1),e("v-text-field",{attrs:{rules:[t.rules.required],label:"請輸入地址",required:"",outlined:""},model:{value:t.addContractData.address,callback:function(a){t.$set(t.addContractData,"address",a)},expression:"addContractData.address"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("聯絡人電話")])]),e("v-text-field",{attrs:{rules:[t.rules.required,t.rules.moblie],label:"請輸入聯絡人電話",required:"",outlined:""},model:{value:t.addContractData.phone,callback:function(a){t.$set(t.addContractData,"phone",a)},expression:"addContractData.phone"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("銀行名稱")])]),e("v-select",{attrs:{items:t.banksData,"item-text":"name","item-value":"bank_code",label:"請選擇銀行","return-object":"","single-line":"",solo:""},on:{change:function(a){return t.getBankInfoBranchCode(t.addContractData.bank.bank_code)}},model:{value:t.addContractData.bank,callback:function(a){t.$set(t.addContractData,"bank",a)},expression:"addContractData.bank"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("銀行分行名稱")])]),e("v-select",{attrs:{items:t.bankBranchData,"item-text":"name",label:"請選擇分行","no-data-text":"請先選擇銀行","return-object":"","single-line":"",solo:""},model:{value:t.addContractData.bankInfoBranch,callback:function(a){t.$set(t.addContractData,"bankInfoBranch",a)},expression:"addContractData.bankInfoBranch"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("銀行帳號")])]),e("v-text-field",{attrs:{rules:[t.rules.required],required:""},model:{value:t.addContractData.balanceId,callback:function(a){t.$set(t.addContractData,"balanceId",a)},expression:"addContractData.balanceId"}}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("div",{staticClass:"my-1 text-body-2"},[e("span",[t._v("*")]),t._v("銀行戶名")])]),e("v-text-field",{attrs:{rules:[t.rules.required],required:""},model:{value:t.addContractData.name,callback:function(a){t.$set(t.addContractData,"name",a)},expression:"addContractData.name"}}),e("v-btn",{staticClass:"my-4",attrs:{rounded:"",block:"",color:"primary",disabled:!t.valid},on:{click:t.modifyContract}},[t._v(" 修改 ")])],1)],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticStyle:{height:"100px"}})])],1)],1),e("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5 d-flex justify-center"},[t._v(" "+t._s(t.dialogText)+" ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.dialog=!1}}},[t._v(" 確定 ")])],1)],1)],1)],1)},r=[],o=e("1da1"),i=(e("159b"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("b0c0"),e("96cf"),e("365c")),c={data:function(){return{isLoad:!1,valid:!0,token:"",dialog:!1,dialogText:"",addContractData:{customerAccount:"",companyName:"",taxIDnumber:"",city:"",area:"",address:"",phone:"",bank:{},bankInfoBranch:"",balanceId:"",name:"",contractNo:""},rules:{required:function(t){return!!t||"請輸入文字。"},nameCheck:function(t){return t&&t.length<=5||"名字不得超過5個字。"},moblie:function(t){return/^09[0-9]{8}$/.test(t)||"請輸入正確的手機號碼。"}},resData:{},cityItems:[],areaItems:[],banksData:[],bankBranchData:[],timer:null}},created:function(){this.inin()},methods:{inin:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.token=t.$Cookies.get("Token"),a.next=3,t.getMyReport();case 3:return a.next=5,t.getTaiwanAreaInfo();case 5:return a.next=7,t.getAreaIngo(t.addContractData.city);case 7:return a.next=9,t.getBankInfo();case 9:return a.next=11,t.getBankInfoBranchCode(t.addContractData.bank.bank_code);case 11:case"end":return a.stop()}}),a)})))()},backHistory:function(){this.$router.go(-1)},getTaiwanAreaInfo:function(){var t=this;return Object(i["y"])(this.token).then((function(a){200===a.status&&(t.resData=a.data,t.resData.forEach((function(a){t.cityItems.push(a.city)})))})).catch((function(t){console.log(t)}))},getAreaIngo:function(t){var a=this;return new Promise((function(e){a.areaItems=[],a.resData.forEach((function(e){e.city===t&&e.area_data.forEach((function(t){a.areaItems.push(t.area)}))})),e()}))},getBankInfo:function(){var t=this;return Object(i["l"])(this.token).then((function(a){return 200===a.status&&0!==a.data.length&&(t.banksData=a.data),a})).catch((function(t){console.log(t)}))},getBankInfoBranchCode:function(t){var a=this,e=new URLSearchParams;return e.append("code",t),Object(i["m"])(e,this.token).then((function(t){200===t.status&&0!==t.data.length&&(a.bankBranchData=t.data),a.$nextTick((function(){a.isLoad=!0}))})).catch((function(t){console.log(t)}))},getMyReport:function(){var t=this,a=new URLSearchParams;return a.append("contractno",this.$route.params.id),Object(i["t"])(a,this.token).then((function(a){t.addContractData.customerAccount=a.data.customer_id,t.addContractData.companyName=a.data.user_name,t.addContractData.taxIDnumber=a.data.number_no,t.addContractData.city=a.data.city,t.addContractData.area=a.data.area,t.addContractData.address=a.data.address,t.addContractData.phone=a.data.phone_no,t.addContractData.bank.name=a.data.account_name,t.addContractData.bank.bank_code=a.data.account_no,t.addContractData.bankInfoBranch=a.data.account_home,t.addContractData.balanceId=a.data.account_id,t.addContractData.name=a.data.account_username,t.addContractData.contractNo=a.data.contract_no})).catch((function(t){console.log(t)}))},modifyContract:function(){var t=this;if(this.$refs.form.validate()){this.valid=!1;var a=new URLSearchParams;a.append("contractNo",this.addContractData.contractNo),a.append("phone",this.addContractData.phone),a.append("username",this.addContractData.companyName),a.append("acname",this.addContractData.bank.name),a.append("acnum",this.addContractData.bank.bank_code),a.append("achome",this.addContractData.bankInfoBranch.name),a.append("acusername",this.addContractData.name),a.append("accountid",this.addContractData.balanceId),a.append("numberno",this.addContractData.taxIDnumber),a.append("city",this.addContractData.city),a.append("area",this.addContractData.area),a.append("address",this.addContractData.address),Object(i["h"])(a,this.token).then((function(a){200===a.status&&"SUCCESS"===a.data.status_code?(t.dialog=!0,t.dialogText="修改合約成功",t.timer=setTimeout((function(){t.$router.go(-1),t.valid=!0}),2e3)):(t.dialog=!0,t.dialogText=a.data.status_code,t.valid=!0)})).catch((function(t){console.log(t)}))}},destroyed:function(){clearTimeout(this.timer)}}},s=c,d=(e("6854"),e("2877")),u=e("6544"),l=e.n(u),f=e("8336"),h=e("b0af"),v=e("99d9"),p=e("62ad"),m=e("a523"),y=e("169a"),b=e("4bd4"),g=e("132d"),C=e("490a"),x=e("0fd9"),w=e("b974"),D=e("8dd9"),k=e("2fa4"),_=e("8654"),I=Object(d["a"])(s,n,r,!1,null,"6aa4002e",null);a["default"]=I.exports;l()(I,{VBtn:f["a"],VCard:h["a"],VCardActions:v["a"],VCardTitle:v["d"],VCol:p["a"],VContainer:m["a"],VDialog:y["a"],VForm:b["a"],VIcon:g["a"],VProgressCircular:C["a"],VRow:x["a"],VSelect:w["a"],VSheet:D["a"],VSpacer:k["a"],VTextField:_["a"]})},6854:function(t,a,e){"use strict";e("3619")},"96cf":function(t,a,e){var n=function(t){"use strict";var a,e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(t,a,e){return Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[a]}try{s({},"")}catch(O){s=function(t,a,e){return t[a]=e}}function d(t,a,e,n){var r=a&&a.prototype instanceof m?a:m,o=Object.create(r.prototype),i=new E(n||[]);return o._invoke=_(t,e,i),o}function u(t,a,e){try{return{type:"normal",arg:t.call(a,e)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var l="suspendedStart",f="suspendedYield",h="executing",v="completed",p={};function m(){}function y(){}function b(){}var g={};g[o]=function(){return this};var C=Object.getPrototypeOf,x=C&&C(C(B([])));x&&x!==e&&n.call(x,o)&&(g=x);var w=b.prototype=m.prototype=Object.create(g);function D(t){["next","throw","return"].forEach((function(a){s(t,a,(function(t){return this._invoke(a,t)}))}))}function k(t,a){function e(r,o,i,c){var s=u(t[r],t,o);if("throw"!==s.type){var d=s.arg,l=d.value;return l&&"object"===typeof l&&n.call(l,"__await")?a.resolve(l.__await).then((function(t){e("next",t,i,c)}),(function(t){e("throw",t,i,c)})):a.resolve(l).then((function(t){d.value=t,i(d)}),(function(t){return e("throw",t,i,c)}))}c(s.arg)}var r;function o(t,n){function o(){return new a((function(a,r){e(t,n,a,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function _(t,a,e){var n=l;return function(r,o){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===r)throw o;return $()}e.method=r,e.arg=o;while(1){var i=e.delegate;if(i){var c=I(i,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=v,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=h;var s=u(t,a,e);if("normal"===s.type){if(n=e.done?v:f,s.arg===p)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(n=v,e.method="throw",e.arg=s.arg)}}}function I(t,e){var n=t.iterator[e.method];if(n===a){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=a,I(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function L(t){var a={tryLoc:t[0]};1 in t&&(a.catchLoc=t[1]),2 in t&&(a.finallyLoc=t[2],a.afterLoc=t[3]),this.tryEntries.push(a)}function j(t){var a=t.completion||{};a.type="normal",delete a.arg,t.completion=a}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function B(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){while(++r<t.length)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=a,e.done=!0,e};return i.next=i}}return{next:$}}function $(){return{value:a,done:!0}}return y.prototype=w.constructor=b,b.constructor=y,y.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var a="function"===typeof t&&t.constructor;return!!a&&(a===y||"GeneratorFunction"===(a.displayName||a.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},D(k.prototype),k.prototype[i]=function(){return this},t.AsyncIterator=k,t.async=function(a,e,n,r,o){void 0===o&&(o=Promise);var i=new k(d(a,e,n,r),o);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},D(w),s(w,c,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var a=[];for(var e in t)a.push(e);return a.reverse(),function e(){while(a.length){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],a=t.completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=a),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),d=n.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,a){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=a&&a<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=a,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,a){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&a&&(this.next=a),p},finish:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var e=this.tryEntries[a];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),j(e),p}},catch:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var e=this.tryEntries[a];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;j(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:B(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=a),p}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}}]);
//# sourceMappingURL=chunk-2df78d1c.cef27d01.js.map